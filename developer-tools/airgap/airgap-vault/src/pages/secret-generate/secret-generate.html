<ion-header transparent no-border><ion-navbar transparent></ion-navbar></ion-header>

<ion-content class="colored-background" padding no-bounce>
  <h1>{{ 'secret-generate.heading' | translate }}</h1>

  <p>{{ 'secret-generate.text' | translate }}</p>

  <touch-entropy #touchEntropy></touch-entropy>
  <div id="entropy-description"></div>

  <br />

  <p>{{ 'secret-generate.description' | translate }}</p>

  <ion-grid>
    <ion-row>
      <ion-col text-center [style.opacity]="cameraEnabled ? '1' : '0.2'">
        <ion-icon color="white" md-name="videocam"></ion-icon>
        <entropy-progress id="entropy-video" [maxValue]="100" [value]="cameraService.getCollectedEntropyPercentage()"></entropy-progress>
      </ion-col>
      <ion-col text-center [style.opacity]="audioEnabled ? '1' : '0.2'">
        <ion-icon color="white" md-name="mic"></ion-icon>
        <entropy-progress id="entropy-audio" [maxValue]="100" [value]="audioService.getCollectedEntropyPercentage()"></entropy-progress>
      </ion-col>
      <ion-col text-center [style.opacity]="gyroEnabled ? '1' : '0.2'">
        <ion-icon color="white" md-name="screen_rotation"></ion-icon>
        <entropy-progress id="entropy-gyro" [maxValue]="100" [value]="gyroService.getCollectedEntropyPercentage()"></entropy-progress>
      </ion-col>
      <ion-col text-center>
        <ion-icon color="white" md-name="touch_app"></ion-icon>
        <entropy-progress id="entropy-touch" [maxValue]="100" [value]="touchEntropy.getCollectedEntropyPercentage()"></entropy-progress>
      </ion-col>
    </ion-row>
  </ion-grid>
  <video *ngIf="isBrowser" #videoElement style="width: 100%"></video>
</ion-content>

<ion-footer no-border>
  <ion-toolbar padding transparent>
    <ion-row justify-content-end>
      <button
        id="btn-entropy-continue"
        (click)="goToSecretRulesPage()"
        default
        ion-button
        color="primary"
        round
        [disabled]="!entropy.isFull"
      >
        {{ 'secret-generate.continue_label' | translate }}
      </button>
    </ion-row>
  </ion-toolbar>
</ion-footer>
